(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[703],{78494:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashBoard",function(){return n(24035)}])},24035:function(e,s,n){"use strict";n.r(s);var a=n(47568),l=n(70655),c=n(85893),t=n(67294),i=n(35631),r=n(46470),o=n.n(r),u=n(83078),d=n(24442),h=n(64670),m=n(11957),_=n(11163);s.default=function(){var e,s=(0,t.useState)(!1),n=s[0],r=s[1],x=(0,t.useState)(null),N=x[0],p=x[1],v=(0,t.useState)(null),f=v[0],j=v[1],b=(0,u.Nr)(),y=b.user,g=b.isWeb3Enabled,k=b.enableWeb3,P=b.account;(0,t.useEffect)((function(){g||k(),(0,a.Z)((function(){var e;return(0,l.__generator)(this,(function(s){switch(s.label){case 0:return[4,D()];case 1:return e=s.sent(),console.log(e),p(e),[2]}}))}))()}),[]);var C,S=(0,t.useContext)(h.S),w=(S.buyInsurance,S.payPrem),D=S.getInfo,Z=S.claim,A=(0,_.useRouter)(),E=function(){var e=(0,a.Z)((function(e){var s;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return e.preventDefault(),[4,w(1)];case 1:return n.sent(),console.log("payed"),[4,D()];case 2:return s=n.sent(),p(s),[2]}}))}));return function(s){return e.apply(this,arguments)}}(),T=function(){var e=(0,a.Z)((function(e){var s;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:if(e.preventDefault(),(null===y||void 0===y?void 0:y.get("DeathCertNumber"))!=f)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Z(N.owner,1)];case 2:return n.sent(),console.log("claimed SuccessFully"),A.push("/Policy"),[3,4];case 3:return s=n.sent(),console.log(s),[3,4];case 4:return[3,6];case 5:alert("could not claim now"),n.label=6;case 6:return[2]}}))}));return function(s){return e.apply(this,arguments)}}();return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("section",{className:o().body,children:[(0,c.jsx)(i.Z,{}),(0,c.jsxs)("section",{className:o().section_flex,children:[(0,c.jsx)("div",{className:o().panel_component,children:(0,c.jsxs)("div",{className:o().panel_box,children:[(0,c.jsx)("h2",{className:o().h2,children:"Your Policy Details"}),(0,c.jsxs)("span",{className:o().span,children:[(0,c.jsx)("h3",{className:o().key,children:"Name of policy holder :"}),(0,c.jsx)("h3",{className:o().values,children:null===y||void 0===y?void 0:y.get("username")})]}),(0,c.jsxs)("span",{className:o().span,children:[(0,c.jsx)("h3",{className:o().key,children:"Name of Nominee :"}),(0,c.jsx)("h3",{className:o().values,children:null===y||void 0===y?void 0:y.get("NomineeName")})]}),(0,c.jsxs)("span",{className:o().span,children:[(0,c.jsx)("h3",{className:o().key,children:"Address of Policy Holder :"}),(0,c.jsxs)("h3",{className:o().values,children:["".concat(P).substring(0,15),"...."]})]}),(0,c.jsxs)("span",{className:o().span,children:[(0,c.jsx)("h3",{className:o().key,children:"Address of Nominee :"}),(0,c.jsxs)("h3",{className:o().values,children:["".concat(null===y||void 0===y?void 0:y.get("NomineeAddress")).substring(0,15),"...."]})]}),(0,c.jsxs)("span",{className:o().span,children:[(0,c.jsx)("h3",{className:o().key,children:"Insured Amount :"}),(0,c.jsxs)("h3",{className:o().values,children:[null===(e="".concat(null===N||void 0===N?void 0:N.insuredAmount))||void 0===e?void 0:e.toString(),"$"]})]}),(0,c.jsxs)("span",{className:o().span,children:[(0,c.jsx)("h3",{className:o().key,children:"Pay Till Age :"}),(0,c.jsx)("h3",{className:o().values,children:"".concat(null===N||void 0===N?void 0:N.timePeriod).toString()})]}),(0,c.jsxs)("span",{className:o().span,children:[(0,c.jsx)("h3",{className:o().key,children:"Next Premium Date :"}),(0,c.jsx)("h3",{className:o().values,children:(C="".concat(null===N||void 0===N?void 0:N.nextPremiumTimeStamp).toString(),new Date(1e3*C).toLocaleDateString())})]}),(0,c.jsxs)("span",{className:o().span,children:[(0,c.jsx)("h3",{className:o().key,children:"Monthly Premium Amount :"}),(0,c.jsxs)("h3",{className:o().values,children:["".concat(null===N||void 0===N?void 0:N.premium).toString(),"$"]})]}),(0,c.jsxs)("span",{className:o().span,children:[(0,c.jsx)("h3",{className:o().key,children:"Premium Paid :"}),(0,c.jsxs)("h3",{className:o().values,children:["".concat(null===N||void 0===N?void 0:N.premiumPaid).toString(),"$"]})]}),(0,c.jsxs)("div",{className:o().action,children:[(0,c.jsx)("button",{className:o().btn,onClick:function(e){E(e)},children:"Pay Premium"}),(0,c.jsx)("button",{className:o().btn,onClick:function(){r(!n)},children:"Claim Insurance"})]})]})}),(0,c.jsx)("div",{className:o().Calculator_box,children:(0,c.jsx)(d.Z,{})}),(0,c.jsx)("div",{className:o().flex_right,children:n?(0,c.jsxs)("form",{className:o().form,type:"submit",children:[(0,c.jsx)("label",{className:o().label,children:"Enter Death Certificate No."}),(0,c.jsx)("input",{className:o().input,type:"text",value:f,onChange:function(e){return j(e.target.value)},placeholder:"Death certificate",required:!0}),(0,c.jsx)("input",{className:o().submit_btn,type:"submit",value:"submit",onClick:function(e){T(e)}})]}):null})]}),(0,c.jsx)("div",{className:o().disc,children:(0,c.jsx)(m.Z,{})})]})})}},46470:function(e){e.exports={h2:"dash_h2__oDA3J",panel_component:"dash_panel_component__hFHqt",panel_box:"dash_panel_box__86uWD",span:"dash_span__L_gCQ",key:"dash_key__jxfZq",values:"dash_values__KosO9",btn:"dash_btn__KJcPF",form:"dash_form__kT8ek",label:"dash_label__jFfb6",input:"dash_input__N1rYp",submit_btn:"dash_submit_btn__ocdSw",flex_right:"dash_flex_right__U23g_",section_flex:"dash_section_flex__ZL2H7",Calculator_box:"dash_Calculator_box__m58uq",disc:"dash_disc__T4fbD",body:"dash_body__S6ojZ",action:"dash_action__ItM_N"}}},function(e){e.O(0,[424,158,846,197,774,888,179],(function(){return s=78494,e(e.s=s);var s}));var s=e.O();_N_E=s}]);